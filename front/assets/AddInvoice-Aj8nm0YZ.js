import{r as u,u as se,P as ce,C as Se,a as Tt,p as At,O as g,t as Lt,aq as Rt,q as w,s as ve,v as Ft,Z as ye,c as N,T as Gt,A as ue,ar as $t,I as Re,m as ze,B as We,as as Kt,y as Bt,z as Ht,x as Vt,at as Ut,au as qt,av as zt,F as Wt,R as U,d as Jt,aw as Xt,b as Fe,f as Yt,a9 as Zt,g as Qt,j as b,ax as Y,ah as en,D as Ge,a1 as $e}from"./index-CAbGq19O.js";import{b as tn}from"./invoices-Dmt9qTVN.js";import{F as nn}from"./FailedRequest-kw7mU4Mw.js";function Q(e){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Q(e)}function rn(e,n){if(Q(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(Q(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function an(e){var n=rn(e,"string");return Q(n)==="symbol"?n:String(n)}function Je(e,n,r){return n=an(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},D.apply(this,arguments)}function Oe(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=new Array(n);r<n;r++)o[r]=e[r];return o}function on(e){if(Array.isArray(e))return Oe(e)}function ln(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xe(e,n){if(e){if(typeof e=="string")return Oe(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oe(e,n)}}function un(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ye(e){return on(e)||ln(e)||Xe(e)||un()}function sn(e){if(Array.isArray(e))return e}function cn(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,t,h,m,S=[],E=!0,C=!1;try{if(h=(r=r.call(e)).next,n!==0)for(;!(E=(o=h.call(r)).done)&&(S.push(o.value),S.length!==n);E=!0);}catch(M){C=!0,t=M}finally{try{if(!E&&r.return!=null&&(m=r.return(),Object(m)!==m))return}finally{if(C)throw t}}return S}}function pn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z(e,n){return sn(e)||cn(e,n)||Xe(e,n)||pn()}var dn={root:function(n){var r=n.props,o=n.focusedState;return N("p-autocomplete p-component p-inputwrapper",{"p-autocomplete-dd":r.dropdown,"p-autocomplete-multiple":r.multiple,"p-inputwrapper-filled":r.value,"p-invalid":r.invalid,"p-inputwrapper-focus":o})},container:function(n){var r=n.props,o=n.context;return N("p-autocomplete-multiple-container p-component p-inputtext",{"p-disabled":r.disabled,"p-variant-filled":r.variant?r.variant==="filled":o&&o.inputStyle==="filled"})},loadingIcon:"p-autocomplete-loader",dropdownButton:"p-autocomplete-dropdown",removeTokenIcon:"p-autocomplete-token-icon",token:"p-autocomplete-token p-highlight",tokenLabel:"p-autocomplete-token-label",inputToken:"p-autocomplete-input-token",input:function(n){var r=n.props,o=n.context;return N("p-autocomplete-input",{"p-autocomplete-dd-input":r.dropdown,"p-variant-filled":r.variant?r.variant==="filled":o&&o.inputStyle==="filled"})},panel:function(n){var r=n.context;return N("p-autocomplete-panel p-component",{"p-ripple-disabled":r&&r.ripple===!1||ue.ripple===!1})},listWrapper:"p-autocomplete-items-wrapper",list:function(n){var r=n.virtualScrollerOptions,o=n.options;return r?N("p-autocomplete-items",o.className):"p-autocomplete-items"},emptyMessage:"p-autocomplete-item",item:function(n){var r=n.suggestion,o=n.optionGroupLabel,t=n.selected;return o?N("p-autocomplete-item",{"p-disabled":r.disabled},{selected:t}):N("p-autocomplete-item",{"p-disabled":r.disabled},{"p-highlight":t})},itemGroup:"p-autocomplete-item-group",footer:"p-autocomplete-footer",transition:"p-connected-overlay"},fn=`
@layer primereact {
    .p-autocomplete {
        display: inline-flex;
        position: relative;
    }
    
    .p-autocomplete-loader {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
    }
    
    .p-autocomplete-dd .p-autocomplete-input {
        flex: 1 1 auto;
        width: 1%;
    }
    
    .p-autocomplete-dd .p-autocomplete-input,
    .p-autocomplete-dd .p-autocomplete-multiple-container {
         border-top-right-radius: 0;
         border-bottom-right-radius: 0;
     }
    
    .p-autocomplete-dd .p-autocomplete-dropdown {
         border-top-left-radius: 0;
         border-bottom-left-radius: 0px;
    }
    
    .p-autocomplete .p-autocomplete-panel {
        min-width: 100%;
    }
    
    .p-autocomplete-panel {
        position: absolute;
        top: 0;
        left: 0;
    }
    
    .p-autocomplete-items {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-autocomplete-item {
        cursor: pointer;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
    }
    
    .p-autocomplete-multiple-container {
        margin: 0;
        padding: 0;
        list-style-type: none;
        cursor: text;
        overflow: hidden;
        display: flex;
        align-items: center;
        flex-wrap: wrap;
    }
    
    .p-autocomplete-token {
        cursor: default;
        display: inline-flex;
        align-items: center;
        flex: 0 0 auto;
    }
    
    .p-autocomplete-token-icon {
        cursor: pointer;
    }
    
    .p-autocomplete-input-token {
        flex: 1 1 auto;
        display: inline-flex;
    }
    
    .p-autocomplete-input-token input {
        border: 0 none;
        outline: 0 none;
        background-color: transparent;
        margin: 0;
        padding: 0;
        box-shadow: none;
        border-radius: 0;
        width: 100%;
    }
    
    .p-fluid .p-autocomplete {
        display: flex;
    }
    
    .p-fluid .p-autocomplete-dd .p-autocomplete-input {
        width: 1%;
    }
    
    .p-autocomplete-items-wrapper {
        overflow: auto;
    } 
}
`,ie=Se.extend({defaultProps:{__TYPE:"AutoComplete",id:null,appendTo:null,autoFocus:!1,autoHighlight:!1,className:null,completeMethod:null,delay:300,disabled:!1,dropdown:!1,dropdownAriaLabel:null,dropdownAutoFocus:!0,dropdownIcon:null,dropdownMode:"blank",emptyMessage:null,field:null,forceSelection:!1,inputClassName:null,inputId:null,inputRef:null,inputStyle:null,variant:null,invalid:!1,itemTemplate:null,loadingIcon:null,maxLength:null,minLength:1,multiple:!1,name:null,onBlur:null,onChange:null,onClear:null,onClick:null,onContextMenu:null,onDblClick:null,onDropdownClick:null,onFocus:null,onHide:null,onKeyPress:null,onKeyUp:null,onMouseDown:null,onSelect:null,onShow:null,onUnselect:null,optionGroupChildren:null,optionGroupLabel:null,optionGroupTemplate:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,readOnly:!1,removeTokenIcon:null,scrollHeight:"200px",selectedItemTemplate:null,selectionLimit:null,showEmptyMessage:!1,size:null,style:null,suggestions:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,type:"text",value:null,virtualScrollerOptions:null,children:void 0},css:{classes:dn,styles:fn}});function Ke(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function V(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ke(Object(r),!0).forEach(function(o){Je(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var Ze=u.memo(u.forwardRef(function(e,n){var r=se(),o=e.ptm,t=e.cx,h=u.useContext(ce),m=function(i,c){return o(i,V({hostName:e.hostName},c))},S=function(i,c){return m(c,{context:{selected:e.selectedItem.current===i,disabled:i.disabled}})},E=function(i){return g.resolveFieldData(i,e.optionGroupLabel)},C=function(i){return g.resolveFieldData(i,e.field)},M=function(){if(e.panelFooterTemplate){var i=g.getJSXElement(e.panelFooterTemplate,e,e.onOverlayHide),c=r({className:t("footer")},m("footer"));return u.createElement("div",c,i)}return null},L=function(i,c,y){return i.findIndex(function(O){return O[c]===y})},R=u.useRef({key:null,index:0,keyIndex:0}),$=function(i,c,y,O){var d=e.optionGroupTemplate?g.getJSXElement(e.optionGroupTemplate,i,y):e.getOptionGroupLabel(i)||i,p=r(V({index:y,className:t("itemGroup"),"data-p-highlight":!1},O),m("itemGroup"));return u.createElement("li",D({},p,{key:c||null}),d)},q=function(i){return e.selectedItem&&e.selectedItem.current&&Array.isArray(e.selectedItem.current)?e.selectedItem.current.some(function(c){return g.deepEquals(c,i)}):g.deepEquals(e.selectedItem.current,i)},K=function(i,c,y,O){var d=q(i),p=e.itemTemplate?g.getJSXElement(e.itemTemplate,i,y):e.field?g.resolveFieldData(i,e.field):i,I=r(V({index:y,role:"option",className:t("item",{optionGroupLabel:e.optionGroupLabel,suggestion:i,selected:d}),onClick:function(T){return e.onItemClick(T,i)},"aria-selected":d},O),S(i,"item"));return u.createElement("li",D({key:c},I),p,u.createElement(zt,null))},x=function(i,c){var y=e.getOptionGroupChildren(i);return y.map(function(O,d){var p=c+"_"+d,I=r({"data-group":c,"data-index":d,"data-p-disabled":O.disabled});return K(O,p,d,I)})},j=function(i,c){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O={height:y.props?y.props.itemSize:void 0};if(e.optionGroupLabel){if(e.virtualScrollerOptions){var d=L(e.suggestions,e.optionGroupLabel,i);if(d!==-1){R.current={key:i,index:c,keyIndex:d};var p=c+"_"+E(i);return $(i,p,c,{style:O})}var I=c+"_"+R.current.keyIndex,z=r({style:O,"data-group":R.current.keyIndex,"data-index":c-R.current.index-1,"data-p-disabled":i.disabled});return K(i,I,c,z)}var T=x(i,c),_=c+"_"+E(i);return u.createElement(u.Fragment,{key:_},$(i,void 0,c,{style:O}),T)}var B="".concat(c,"_").concat(g.isObject(i)?C(i):i),re=r({style:O,"data-p-disabled":i.disabled},S(i,"item"));return K(i,B,c,re)},F=function(){return e.suggestions?e.suggestions.map(j):null},k=function(i){try{return i==null?void 0:i.map(function(c){return[c==null?void 0:c[e==null?void 0:e.optionGroupLabel]].concat(Ye(c==null?void 0:c[e==null?void 0:e.optionGroupChildren]))}).flat()}catch{}},ne=function(){if(e.showEmptyMessage&&g.isEmpty(e.suggestions)){var i=e.emptyMessage||ze("emptyMessage"),c=r({className:t("emptyMessage")},m("emptyMesage")),y=r({className:t("list")},m("list"));return u.createElement("ul",y,u.createElement("li",c,i))}if(e.virtualScrollerOptions){var O=e.suggestions?e.optionGroupLabel?k(e==null?void 0:e.suggestions):e.suggestions:null,d=V(V({},e.virtualScrollerOptions),{style:V(V({},e.virtualScrollerOptions.style),{height:e.scrollHeight}),autoSize:!0,items:O,itemTemplate:function(_,B){return _&&j(_,B.index,B)},contentTemplate:function(_){var B=r({id:e.listId,ref:_.contentRef,style:_.style,className:t("list",{virtualScrollerProps:d,options:_}),role:"listbox"},m("list"));return u.createElement("ul",B,_.children)}});return u.createElement(qt,D({ref:e.virtualScrollerRef},d,{pt:m("virtualScroller"),__parentMetadata:{parent:e.metaData}}))}var p=F(),I=r({id:e.listId,className:t("list"),role:"listbox"},m("list")),z=r({className:t("listWrapper"),style:{maxHeight:e.scrollHeight||"auto"}},m("listWrapper"));return u.createElement("div",z,u.createElement("ul",I,p))},X=function(){var i=V({},e.panelStyle||{}),c=ne(),y=M(),O=r({className:N(e.panelClassName,t("panel",{context:h})),style:i,onClick:function(I){return e.onClick(I)}},m("panel")),d=r({classNames:t("transition"),in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:e.onEnter,onEntering:e.onEntering,onEntered:e.onEntered,onExit:e.onExit,onExited:e.onExited},m("transition"));return u.createElement(Vt,D({nodeRef:n},d),u.createElement("div",D({ref:n},O),c,y))},W=X();return u.createElement(Bt,{element:W,appendTo:e.appendTo})}));Ze.displayName="AutoCompletePanel";function Be(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function ge(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Be(Object(r),!0).forEach(function(o){Je(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var Qe=u.memo(u.forwardRef(function(e,n){var r=se(),o=u.useContext(ce),t=ie.getProps(e,o),h=u.useState(t.id),m=Z(h,2),S=m[0],E=m[1],C=u.useState(!1),M=Z(C,2),L=M[0],R=M[1],$=u.useState(!1),q=Z($,2),K=q[0],x=q[1],j=u.useState(!1),F=Z(j,2),k=F[0],ne=F[1],X={props:t,state:{id:S,searching:L,focused:K,overlayVisible:k}},W=ie.setMetaData(X),v=W.ptm,i=W.cx,c=W.sx,y=W.isUnstyled;Tt(ie.css.styles,y,{name:"autocomplete"});var O=u.useRef(null),d=u.useRef(null),p=u.useRef(t.inputRef),I=u.useRef(null),z=u.useRef(null),T=u.useRef(null),_=u.useRef(null),B=At({target:O,overlay:d,listener:function(a,l){var f=l.type,P=l.valid;P&&(f==="outside"?!at(a)&&G():G())},when:k}),re=Z(B,2),nt=re[0],rt=re[1],at=function(a){return t.multiple?a.target===I.current||I.current.contains(a.target):a.target===p.current},Pe=function(a){T.current&&clearTimeout(T.current);var l=a.target.value;t.multiple||J(a,l),g.isEmpty(l)?(G(),t.onClear&&t.onClear(a)):l.length>=t.minLength?T.current=setTimeout(function(){ae(a,l,"input")},t.delay):G()},ae=function(a,l,f){l!=null&&(f==="input"&&l.trim().length===0||t.completeMethod&&(R(!0),t.completeMethod({originalEvent:a,query:l})))},oe=function(a,l,f){if(t.multiple){if(p.current.value="",!gt(l)&&Te()){var P=t.value?[].concat(Ye(t.value),[l]):[l];J(a,P)}}else Ce(l),J(a,l);t.onSelect&&t.onSelect({originalEvent:a,value:l}),f||(w.focus(p.current),G())},J=function(a,l){t.onChange&&t.onChange({originalEvent:a,value:l,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()},target:{name:t.name,id:S,value:l}}),_.current=g.isNotEmpty(l)?l:null},pe=function(a){if(g.isEmpty(a))return"";if(typeof a=="string")return a;var l=g.getJSXElement(t.selectedItemTemplate,a);if(typeof l=="string")return l;if(t.field){var f;return(f=g.resolveFieldData(a,t.field))!==null&&f!==void 0?f:a}return a},Ce=function(a){p.current.value=pe(a)},Ie=function(){ne(!0)},G=function(){ne(!1),R(!1)},ot=function(){ye.set("overlay",d.current,o&&o.autoZIndex||ue.autoZIndex,o&&o.zIndex.overlay||ue.zIndex.overlay),w.addStyles(d.current,{position:"absolute",top:"0",left:"0"}),de()},lt=function(){t.autoHighlight&&t.suggestions&&t.suggestions.length&&Ee()},Ee=function(){var a,l=(a=me())===null||a===void 0||(a=a.firstChild)===null||a===void 0?void 0:a.firstChild;l&&(!y()&&w.addClass(l,"p-highlight"),l.setAttribute("data-p-highlight",!0))},it=function(){nt(),t.onShow&&t.onShow()},ut=function(){rt()},st=function(){ye.clear(d.current),t.onHide&&t.onHide()},de=function(){var a=t.multiple?I.current:p.current;w.alignOverlay(d.current,a,t.appendTo||o&&o.appendTo||ue.appendTo)},ct=function(a){Wt.emit("overlay-click",{originalEvent:a,target:O.current})},pt=function(a){t.dropdownAutoFocus&&w.focus(p.current,t.dropdownAutoFocus),t.dropdownMode==="blank"?ae(a,"","dropdown"):t.dropdownMode==="current"&&ae(a,p.current.value,"dropdown"),t.onDropdownClick&&t.onDropdownClick({originalEvent:a,query:p.current.value})},dt=function(a,l){var f=t.value[l],P=t.value.filter(function(A,H){return l!==H});J(a,P),t.onUnselect&&t.onUnselect({originalEvent:a,value:f})},je=function(a){if(k){var l=w.findSingle(d.current,'li[data-p-highlight="true"]');switch(a.which){case 40:if(l){var f=fe(l);f&&(!y()&&w.addClass(f,"p-highlight"),f.setAttribute("data-p-highlight",!0),!y()&&w.removeClass(l,"p-highlight"),l.setAttribute("data-p-highlight",!1),w.scrollInView(me(),f))}else l=w.findSingle(d.current,"li"),w.getAttribute(l,"data-pc-section")==="itemgroup"&&(l=fe(l)),l&&(!y()&&w.addClass(l,"p-highlight"),l.setAttribute("data-p-highlight",!0));a.preventDefault();break;case 38:if(l){var P=_e(l);P&&(!y()&&w.addClass(P,"p-highlight"),P.setAttribute("data-p-highlight",!0),!y()&&w.removeClass(l,"p-highlight"),l.setAttribute("data-p-highlight",!1),w.scrollInView(me(),P))}a.preventDefault();break;case 13:l&&(ke(a,l),G(),a.preventDefault());break;case 27:G(),a.preventDefault();break;case 9:l&&ke(a,l),G();break}}if(t.multiple)switch(a.which){case 8:if(t.value&&t.value.length&&!p.current.value){var A=t.value[t.value.length-1],H=t.value.slice(0,-1);J(a,H),t.onUnselect&&t.onUnselect({originalEvent:a,value:A})}break}},ke=function(a,l){if(t.optionGroupLabel){var f=t.suggestions[l.dataset.group];oe(a,Me(f)[l.dataset.index])}else oe(a,t.suggestions[l.getAttribute("index")])},fe=function(a){var l=a.nextElementSibling;return l?w.getAttribute(l,"data-pc-section")==="itemgroup"?fe(l):l:null},_e=function(a){var l=a.previousElementSibling;return l?w.getAttribute(l,"data-pc-section")==="itemgroup"?_e(l):l:null},Ne=function(a){x(!0),t.onFocus&&t.onFocus(a)},ft=function(a){if(t.multiple){p.current.value="";return}var l=g.trim(a.target.value).toLowerCase(),f=(t.suggestions||[]).flatMap(function(A){return A.items?A.items:[A]}),P=f.find(function(A){var H=t.field?g.resolveFieldData(A,t.field):A,le=H?g.trim(H).toLowerCase():"";return le&&l===le});P?oe(a,P,!0):(p.current.value="",J(a,null),t.onClear&&t.onClear(a))},De=function(a){x(!1),t.forceSelection&&ft(a),t.onBlur&&t.onBlur(a)},mt=function(a){w.focus(p.current),t.onClick&&t.onClick(a)},vt=function(a){Ne(a),!y()&&w.addClass(I.current,"p-focus"),I.current.setAttribute("data-p-focus",!0)},yt=function(a){De(a),!y()&&w.removeClass(I.current,"p-focus"),I.current.setAttribute("data-p-focus",!1)},gt=function(a){return t.value?t.value.some(function(l){return g.equals(l,a)}):!1},me=function(){var a;return d==null||(a=d.current)===null||a===void 0?void 0:a.firstChild},bt=function(a){return t.optionGroupLabel?g.resolveFieldData(a,t.optionGroupLabel):a},Me=function(a){return g.resolveFieldData(a,t.optionGroupChildren)},Te=function(){return!t.value||!t.selectionLimit||t.value.length<t.selectionLimit};u.useEffect(function(){g.combinedRefs(p,t.inputRef)},[p,t.inputRef]),Lt(function(){S||E(Rt()),t.autoFocus&&w.focus(p.current,t.autoFocus),de()}),ve(function(){L&&t.autoHighlight&&t.suggestions&&t.suggestions.length&&Ee()},[L]),ve(function(){L&&(g.isNotEmpty(t.suggestions)||t.showEmptyMessage?Ie():G(),R(!1))},[t.suggestions]),ve(function(){p.current&&!t.multiple&&Ce(t.value),k&&de()}),Ft(function(){T.current&&clearTimeout(T.current),ye.clear(d.current)}),u.useImperativeHandle(n,function(){return{props:t,search:ae,show:Ie,hide:G,focus:function(){return w.focus(p.current)},getElement:function(){return O.current},getOverlay:function(){return d.current},getInput:function(){return p.current},getVirtualScroller:function(){return z.current}}});var ht=function(){var a=pe(t.value),l=k?S+"_list":null;return u.createElement(Ht,D({ref:p,id:t.inputId,type:t.type,name:t.name,defaultValue:a,role:"combobox","aria-autocomplete":"list","aria-controls":l,"aria-haspopup":"listbox","aria-expanded":k,className:N(t.inputClassName,i("input",{context:o})),style:t.inputStyle,autoComplete:"off",readOnly:t.readOnly,required:t.required,disabled:t.disabled,placeholder:t.placeholder,size:t.size,maxLength:t.maxLength,tabIndex:t.tabIndex,onBlur:De,onFocus:Ne,onChange:Pe,onMouseDown:t.onMouseDown,onKeyUp:t.onKeyUp,onKeyDown:je,onKeyPress:t.onKeyPress,onContextMenu:t.onContextMenu,onClick:t.onClick,onDoubleClick:t.onDblClick,pt:v("input"),unstyled:t.unstyled},Le,{__parentMetadata:{parent:X}}))},Ot=function(){return g.isNotEmpty(t.value)?t.value.map(function(a,l){var f=l+"multi-item",P=r({className:i("removeTokenIcon"),onClick:function(Mt){return dt(Mt,l)}},v("removeTokenIcon")),A=t.removeTokenIcon||u.createElement(Ut,P),H=!t.disabled&&Re.getJSXIcon(A,ge({},P),{props:t}),le=r({className:i("token")},v("token")),Dt=r({className:i("tokenLabel")},v("tokenLabel"));return u.createElement("li",D({key:f},le),u.createElement("span",Dt,pe(a)),H)}):(_.current=null,null)},wt=function(a){var l=k?S+"_list":null,f=r({className:i("inputToken")},v("inputToken")),P=r(ge({id:t.inputId,ref:p,"aria-autocomplete":"list","aria-controls":l,"aria-expanded":k,"aria-haspopup":"listbox",autoComplete:"off",className:t.inputClassName,disabled:t.disabled,maxLength:t.maxLength,name:t.name,onBlur:yt,onChange:a?Pe:void 0,onFocus:vt,onKeyDown:a?je:void 0,onKeyPress:t.onKeyPress,onKeyUp:t.onKeyUp,placeholder:a?t.placeholder:void 0,readOnly:t.readOnly||!a,required:t.required,role:"combobox",style:t.inputStyle,tabIndex:t.tabIndex,type:t.type},Le),v("input"));return u.createElement("li",f,u.createElement("input",P))},xt=function(){var a=Te(),l=Ot(),f=wt(a),P=r({ref:I,className:i("container",{context:o}),onClick:a?mt:void 0,onContextMenu:t.onContextMenu,onMouseDown:t.onMouseDown,onDoubleClick:t.onDblClick,"data-p-focus":K,"data-p-disabled":t.disabled},v("container"));return u.createElement("ul",P,l,f)},St=function(){if(t.dropdown){var a=t.dropdownAriaLabel||t.placeholder||ze("choose");return u.createElement(We,{type:"button",icon:t.dropdownIcon||u.createElement(Kt,null),className:i("dropdownButton"),disabled:t.disabled,onClick:pt,"aria-label":a,pt:v("dropdownButton"),__parentMetadata:{parent:X}})}return null},Pt=function(){if(L){var a=r({className:i("loadingIcon")},v("loadingIcon")),l=t.loadingIcon||u.createElement($t,D({},a,{spin:!0})),f=Re.getJSXIcon(l,ge({},a),{props:t});return f}return null},Ct=function(){return t.multiple?xt():ht()},It=S+"_list",Et=g.isNotEmpty(t.tooltip),Ae=ie.getOtherProps(t),Le=g.reduceKeys(Ae,w.ARIA_PROPS),jt=Pt(),kt=Ct(),_t=St(),Nt=r({id:S,ref:O,style:t.style,className:N(t.className,i("root",{focusedState:K}))},Ae,v("root"));return u.createElement(u.Fragment,null,u.createElement("span",Nt,kt,jt,_t,u.createElement(Ze,D({hostName:"AutoComplete",ref:d,virtualScrollerRef:z},t,{listId:It,onItemClick:oe,selectedItem:_,onClick:ct,getOptionGroupLabel:bt,getOptionGroupChildren:Me,in:k,onEnter:ot,onEntering:lt,onEntered:it,onExit:ut,onExited:st,ptm:v,cx:i,sx:c}))),Et&&u.createElement(Gt,D({target:O,content:t.tooltip,pt:v("tooltip")},t.tooltipOptions)))}));Qe.displayName="AutoComplete";function we(){return we=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},we.apply(this,arguments)}function ee(e){"@babel/helpers - typeof";return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ee(e)}function mn(e,n){if(ee(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(ee(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function vn(e){var n=mn(e,"string");return ee(n)==="symbol"?n:String(n)}function yn(e,n,r){return n=vn(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var gn={root:function(n){var r=n.props;return N("p-icon-field",{"p-icon-field-right":r.iconPosition==="right","p-icon-field-left":r.iconPosition==="left"})}},be=Se.extend({defaultProps:{__TYPE:"IconField",__parentMetadata:null,children:void 0,className:null,iconPosition:"right"},css:{classes:gn}});function He(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function Ve(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?He(Object(r),!0).forEach(function(o){yn(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var et=U.memo(U.forwardRef(function(e,n){var r=u.useRef(n),o=se(),t=u.useContext(ce),h=be.getProps(e,t),m=be.setMetaData(Ve(Ve({props:h},h.__parentMetadata),{},{context:{iconPosition:h.iconPosition}})),S=m.ptm,E=m.cx,C=o({className:N(h.className,E("root",{iconPosition:h.iconPosition}))},be.getOtherProps(h),S("root"));return U.createElement("div",we({},C,{ref:r}),u.Children.map(h.children,function(M,L){return u.cloneElement(M,{iconPosition:h.iconPosition})}))}));et.displayName="IconField";function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},xe.apply(this,arguments)}function te(e){"@babel/helpers - typeof";return te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},te(e)}function bn(e,n){if(te(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(te(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function hn(e){var n=bn(e,"string");return te(n)==="symbol"?n:String(n)}function On(e,n,r){return n=hn(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var wn={root:"p-input-icon"},he=Se.extend({defaultProps:{__TYPE:"InputIcon",__parentMetadata:null,className:null,iconPosition:null},css:{classes:wn}});function Ue(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function qe(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ue(Object(r),!0).forEach(function(o){On(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var tt=U.memo(U.forwardRef(function(e,n){var r=u.useRef(n),o=se(),t=u.useContext(ce),h=he.getProps(e,t),m=he.setMetaData(qe(qe({props:h},h.__parentMetadata),{},{context:{iconPosition:h.iconPosition}})),S=m.ptm,E=m.cx,C=o({className:N(h.className,E("root"))},he.getOtherProps(h),S("root"));return U.createElement(U.Fragment,null,U.createElement("span",xe({},C,{ref:r}),h.children))}));tt.displayName="InputIcon";function In(){const[e,n]=u.useState({createdAt:new Date,calculateFines:!0,willPracticeThisYear:!0}),{language:{invoices:{add_invoice_page:r}}}=Jt(),o=tn(),{handleCreateInvoice:t,creatingInvoice:h}=Xt(),{response:m,loading:S,execute:E}=Fe("banks/list"),{response:C,loading:M,execute:L}=Fe("pharmacists/list",!1),R=u.useCallback(Yt(L,300),[]);u.useEffect(()=>{const x=Zt({page:0,limit:20,fullName:e.fullName});e.fullName&&R(`pharmacists/list?${Qt(x)}`)},[e.fullName]);const $=x=>{const{value:j,name:F}=x.target;n(k=>({...k,[F]:j}))},q=u.useMemo(()=>{const x=C==null?void 0:C.data.find(j=>j.fullName===e.fullName);return x?(n(j=>({...j,pharmacistId:x.id})),!0):!1},[C]),K=(x,j)=>{n(F=>({...F,[x]:j}))};return b.jsx("div",{className:"external-page-wra",children:b.jsxs("div",{className:"external-page",children:[b.jsx("h2",{className:"header",children:r.add_invoice}),b.jsxs("div",{className:"input-fields",children:[b.jsxs("div",{className:"two-fields",children:[b.jsxs(et,{children:[b.jsx(tt,{className:`pi ${M?"pi-spin pi-spinner":e.fullName?q?"pi-check-circle":"pi-ban":""}`,style:{zIndex:1,insetInlineEnd:"0.75rem"}}),b.jsx(Qe,{completeMethod:()=>{},onChange:x=>{const j=typeof x.value=="string"?x.value:x.value.fullName;n(F=>({...F,fullName:j}))},className:Y.noLoaderAutocomplete,field:"fullName",placeholder:r.pharmacist_full_name,value:e.fullName,suggestions:C==null?void 0:C.data,itemTemplate:x=>b.jsxs("div",{children:[b.jsx("span",{children:x.fullName}),b.jsx("br",{}),b.jsx("small",{className:Y.smallNationalNumber,children:x.nationalNumber})]}),variant:"filled"})]}),b.jsx(en,{value:e.createdAt?new Date(e.createdAt):null,onChange:x=>K("createdAt",x.value),disabled:!0,variant:"filled",placeholder:r.created_at})]}),b.jsxs("div",{className:"two-fields",children:[b.jsx(Ge,{value:e.syndicateMembership,options:o,name:"syndicateMembership",onChange:$,placeholder:r.syndicate_membership,variant:"filled"}),b.jsx(Ge,{value:e.bank,options:m==null?void 0:m.data,loading:S,name:"bank",optionLabel:"name",optionValue:"id",emptyMessage:()=>b.jsx(nn,{setFilters:E}),onChange:$,placeholder:r.bank,variant:"filled"})]}),b.jsxs("div",{className:Y.actionButtonWithSwitches,children:[b.jsxs("div",{className:Y.inputSwitch,children:[b.jsx("label",{children:r.will_practice_this_year}),b.jsx($e,{checked:!!e.willPracticeThisYear,onChange:$,name:"willPracticeThisYear"})]}),b.jsxs("div",{className:Y.inputSwitch,children:[b.jsx("label",{children:r.calculate_fines}),b.jsx($e,{checked:!!e.calculateFines,onChange:$,name:"calculateFines"})]}),b.jsx(We,{label:r.add_invoice,disabled:!(e.createdAt&&e.syndicateMembership&&e.pharmacistId&&e.bank&&q&&!M),outlined:!0,loading:h,onClick:()=>{t(e)}})]})]})]})})}export{In as default};
