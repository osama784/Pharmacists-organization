import{d as L,r as h,H as B,b as E,j as e,L as F,x as u,D as $,G as O,B as S}from"./index-Q41oB_bg.js";import{a as k,s as o,R as y}from"./users-CeDg6-rs.js";import{g as G}from"./users-BG79YfDv.js";import{u as I}from"./roles-txf-2Bai.js";import{F as x}from"./FailedRequest-BziIR9ez.js";function T(){const{language:g}=L(),{users:{update_user_page:r}}=g,j={phoneNumber:"",username:"",email:"",role:"",status:""},[s,m]=h.useState(j),f=G(),[N]=B(),c=N.get("id"),{usersRoles:b,loading:v,error:D,getUsersRoles:R}=I(),{handleUpdateUser:U,loading:p}=k(`${c}`),{response:l,loading:_,execute:C,error:w}=E(`users/get/${c}`);h.useEffect(()=>{l&&m({...l.data,role:l.data.role.id})},[l]);const t=a=>{const{value:i,name:n}=a.target;m(d=>({...d,[n]:i}))};return _?e.jsx(F,{}):w?e.jsx("div",{className:"external-page-wra",children:e.jsx(x,{action:C})}):e.jsx("div",{className:"external-page-wra",children:e.jsxs("div",{className:"external-page",children:[e.jsx("h2",{className:"header",children:r.update_user}),e.jsxs("div",{className:"input-fields",children:[e.jsxs("div",{className:"two-fields",children:[e.jsx(u,{value:s.phoneNumber,name:"phoneNumber",onChange:a=>t(a),variant:"filled",placeholder:r.phone_number}),e.jsx(u,{value:s.username,name:"username",onChange:a=>t(a),variant:"filled",placeholder:r.name})]}),e.jsx(u,{value:s.email,name:"email",onChange:a=>t(a),className:"one-field",variant:"filled",placeholder:r.email}),e.jsxs("div",{className:"two-fields",children:[e.jsx("label",{className:o.label,children:r.role_name}),e.jsx($,{placeholder:r.role_name,value:s.role,loading:v,emptyMessage:()=>D?e.jsx(x,{action:R}):r.no_records,options:b,optionLabel:"name",optionValue:"id",name:"role",onChange:a=>t(a),variant:"filled"})]}),e.jsxs("div",{className:"two-fields",children:[e.jsx("label",{className:o.label,children:r.status}),e.jsx("div",{className:o.radioButtons,children:Object.entries(f).map(([a,i],n)=>e.jsxs("div",{className:o.radioButton,children:[e.jsx(y,{inputId:`status${n+1}`,name:"status",value:a,onChange:d=>t(d),checked:s.status===a}),e.jsx("label",{htmlFor:`status${n+1}`,children:i})]},a))})]})]}),e.jsx(O,{}),e.jsx(S,{onClick:()=>{U(s)},label:r.update_user,disabled:!(s.username&&s.phoneNumber&&s.email&&s.role&&s.status)||p,loading:p,className:"button-align-end"})]})})}export{T as default};
