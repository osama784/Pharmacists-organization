import{r as s,h as dt,u as ie,P as ue,C as ce,l as H,a as ft,i as mt,k as vt,E as gt,m as yt,O as C,n as R,o as ht,p as wt,q as bt,Z as re,c as h,R as _,s as Ce,t as Ot,I as xt,v as Pt,w as Ct,x as X,y as $,z as Et,d as St,A as It,F as jt,j as u,D as _t,G as Rt,B as Nt}from"./index-XxLOGMNj.js";import{u as kt,s as V,R as Lt}from"./users-DZ4b1nC6.js";import{g as Mt}from"./users-sqhfqtLy.js";import{u as Dt}from"./roles-CBc3UJe5.js";import{F as Ft}from"./FailedRequest-hSUIgDhO.js";function oe(){return oe=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},oe.apply(this,arguments)}var Ne=s.memo(s.forwardRef(function(r,e){var t=dt.getPTI(r);return s.createElement("svg",oe({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z",fill:"currentColor"}))}));Ne.displayName="EyeSlashIcon";function L(){return L=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},L.apply(this,arguments)}function T(r){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(r)}function $t(r,e){if(T(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e);if(T(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Tt(r){var e=$t(r,"string");return T(e)==="symbol"?e:String(e)}function pe(r,e,t){return e=Tt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Bt(r){if(Array.isArray(r))return r}function At(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var a,n,l,d,f=[],m=!0,w=!1;try{if(l=(t=t.call(r)).next,e!==0)for(;!(m=(a=l.call(t)).done)&&(f.push(a.value),f.length!==e);m=!0);}catch(E){w=!0,n=E}finally{try{if(!m&&t.return!=null&&(d=t.return(),Object(d)!==d))return}finally{if(w)throw n}}return f}}function Ee(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=r[t];return a}function Ut(r,e){if(r){if(typeof r=="string")return Ee(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ee(r,e)}}function Kt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(r,e){return Bt(r)||At(r,e)||Ut(r,e)||Kt()}var Zt={root:function(e){var t=e.props;return h("p-icon-field",{"p-icon-field-right":t.iconPosition==="right","p-icon-field-left":t.iconPosition==="left"})}},ae=ce.extend({defaultProps:{__TYPE:"IconField",__parentMetadata:null,children:void 0,className:null,iconPosition:"right"},css:{classes:Zt}});function Se(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function Ie(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Se(Object(t),!0).forEach(function(a){pe(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}var ke=_.memo(_.forwardRef(function(r,e){var t=s.useRef(e),a=ie(),n=s.useContext(ue),l=ae.getProps(r,n),d=ae.setMetaData(Ie(Ie({props:l},l.__parentMetadata),{},{context:{iconPosition:l.iconPosition}})),f=d.ptm,m=d.cx,w=a({className:h(l.className,m("root",{iconPosition:l.iconPosition}))},ae.getOtherProps(l),f("root"));return _.createElement("div",L({},w,{ref:t}),s.Children.map(l.children,function(E,b){return s.cloneElement(E,{iconPosition:l.iconPosition})}))}));ke.displayName="IconField";var Ht={root:"p-input-icon"},se=ce.extend({defaultProps:{__TYPE:"InputIcon",__parentMetadata:null,className:null,iconPosition:null},css:{classes:Ht}});function je(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function _e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?je(Object(t),!0).forEach(function(a){pe(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):je(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}var Le=_.memo(_.forwardRef(function(r,e){var t=s.useRef(e),a=ie(),n=s.useContext(ue),l=se.getProps(r,n),d=se.setMetaData(_e(_e({props:l},l.__parentMetadata),{},{context:{iconPosition:l.iconPosition}})),f=d.ptm,m=d.cx,w=a({className:h(l.className,m("root"))},se.getOtherProps(l),f("root"));return _.createElement(_.Fragment,null,_.createElement("span",L({},w,{ref:t}),l.children))}));Le.displayName="InputIcon";var Vt={root:function(e){var t=e.props,a=e.isFilled,n=e.focusedState;return h("p-password p-component p-inputwrapper",{"p-inputwrapper-filled":a,"p-inputwrapper-focus":n,"p-input-icon-right":t.toggleMask})},input:function(e){var t=e.props;return h("p-password-input",t.inputClassName)},panel:function(e){var t=e.props,a=e.context;return h("p-password-panel p-component",t.panelClassName,{"p-input-filled":a&&a.inputStyle==="filled"||$.inputStyle==="filled","p-ripple-disabled":a&&a.ripple===!1||$.ripple===!1})},meter:"p-password-meter",meterLabel:function(e){var t=e.strength;return h("p-password-strength",t)},info:function(e){var t=e.strength;return h("p-password-info",t)},showIcon:"p-password-show-icon",hideIcon:"p-password-hide-icon",transition:"p-connected-overlay"},zt=`
@layer primereact {
    .p-password {
        position: relative;
        display: inline-flex;
    }
    
    .p-password-panel {
        position: absolute;
        top: 0;
        left: 0;
    }
    
    .p-password .p-password-panel {
        min-width: 100%;
    }
    
    .p-password-meter {
        height: 10px;
    }
    
    .p-password-strength {
        height: 100%;
        width: 0%;
        transition: width 1s ease-in-out;
    }
    
    .p-fluid .p-password {
        display: flex;
    }
    
    .p-password-input::-ms-reveal,
    .p-password-input::-ms-clear {
        display: none;
    }

    .p-password .p-password-show-icon,
    .p-password .p-password-hide-icon {
        line-height: 1.5;
        cursor: pointer;
    }
}
`,z=ce.extend({defaultProps:{__TYPE:"Password",id:null,inputId:null,inputRef:null,promptLabel:null,weakLabel:null,mediumLabel:null,strongLabel:null,mediumRegex:"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",strongRegex:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",feedback:!0,toggleMask:!1,appendTo:null,header:null,content:null,footer:null,showIcon:null,hideIcon:null,icon:null,tooltip:null,tooltipOptions:null,style:null,className:null,inputStyle:null,inputClassName:null,invalid:!1,variant:null,panelStyle:null,panelClassName:null,transitionOptions:null,tabIndex:null,value:void 0,onInput:null,onShow:null,onHide:null,children:void 0},css:{classes:Vt,styles:zt}});function Re(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function J(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Re(Object(t),!0).forEach(function(a){pe(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Re(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}var le=s.memo(s.forwardRef(function(r,e){var t=ie(),a=s.useContext(ue),n=z.getProps(r,a),l=n.promptLabel||H("passwordPrompt"),d=n.weakLabel||H("weak"),f=n.mediumLabel||H("medium"),m=n.strongLabel||H("strong"),w=s.useState(!1),E=k(w,2),b=E[0],B=E[1],Y=s.useState(null),A=k(Y,2),N=A[0],G=A[1],O=s.useState(l),c=k(O,2),S=c[0],I=c[1],M=s.useState(!1),de=k(M,2),q=de[0],fe=de[1],Me=s.useState(!1),me=k(Me,2),U=me[0],De=me[1],j=s.useRef(null),x=s.useRef(null),P=s.useRef(n.inputRef),ve=s.useRef(new RegExp(n.mediumRegex)),ge=s.useRef(new RegExp(n.strongRegex)),Fe=U?"text":"password",K={props:n,state:{overlayVisible:b,meter:N,infoText:S,focused:q,unmasked:U}},W=z.setMetaData(K),g=W.ptm,y=W.cx,$e=W.isUnstyled;ft(z.css.styles,$e,{name:"password"});var ye=mt("password",b);vt({callback:function(){Q()},when:b&&n.feedback&&ye,priority:[gt.PASSWORD,ye]});var Te=yt({target:j,overlay:x,listener:function(o,p){var v=p.valid;v&&Q()},when:b}),he=k(Te,2),Be=he[0],Ae=he[1],we=P.current&&P.current.value,Z=s.useMemo(function(){return C.isNotEmpty(n.value)||C.isNotEmpty(n.defaultValue)||C.isNotEmpty(we)},[n.value,n.defaultValue,we]),Ue=function(){if(N){var o=null;switch(N.strength){case"weak":o=d;break;case"medium":o=f;break;case"strong":o=m;break}o&&S!==o&&I(o)}else S!==l&&I(l)},Ke=function(o){if(!n.feedback)return!1;var p=null,v=null;switch(We(o)){case 1:p=d,v={strength:"weak",width:"33.33%"};break;case 2:p=f,v={strength:"medium",width:"66.66%"};break;case 3:p=m,v={strength:"strong",width:"100%"};break;default:p=l,v=null;break}return G(v),I(p),!0},Ze=function(o){n.feedback&&Et.emit("overlay-click",{originalEvent:o,target:j.current})},D=function(){De(function(o){return!o})},be=function(){Ue(),B(!0)},Q=function(){B(!1)},Oe=function(){P.current&&R.alignOverlay(x.current,P.current.parentElement,n.appendTo||a&&a.appendTo||$.appendTo)},He=function(){re.set("overlay",x.current,a&&a.autoZIndex||$.autoZIndex,a&&a.zIndex.overlay||$.zIndex.overlay),R.addStyles(x.current,{position:"absolute",top:"0",left:"0"}),Oe()},Ve=function(){Be(),n.onShow&&n.onShow()},ze=function(){Ae()},Je=function(){re.clear(x.current),n.onHide&&n.onHide()},Xe=function(o){fe(!0),n.feedback&&be(),n.onFocus&&n.onFocus(o)},Ye=function(o){fe(!1),n.feedback&&Q(),n.onBlur&&n.onBlur(o)},Ge=function(o){var p=o.code;n.feedback&&p&&p!=="Escape"&&!b&&be(),n.onKeyUp&&n.onKeyUp(o)},qe=function(o,p){n.onInput&&n.onInput(o,p),n.onChange||(C.isNotEmpty(o.target.value)?R.addClass(j.current,"p-inputwrapper-filled"):R.removeClass(j.current,"p-inputwrapper-filled"))},We=function(o){return!o||o.length===0?0:ge.current.test(o)?3:ve.current.test(o)?2:o.length>0?1:0};s.useImperativeHandle(e,function(){return{props:n,toggleMask:D,focus:function(){return R.focus(P.current)},getElement:function(){return j.current},getOverlay:function(){return x.current},getInput:function(){return P.current}}}),s.useEffect(function(){C.combinedRefs(P,n.inputRef)},[P,n.inputRef]),s.useEffect(function(){ve.current=new RegExp(n.mediumRegex)},[n.mediumRegex]),s.useEffect(function(){ge.current=new RegExp(n.strongRegex)},[n.strongRegex]),s.useEffect(function(){!Z&&R.hasClass(j.current,"p-inputwrapper-filled")&&R.removeClass(j.current,"p-inputwrapper-filled")},[Z]),ht(function(){Ke(n.value)},[n.value]),wt(function(){Oe()}),bt(function(){re.clear(x.current)});var xe=function(o){(o.key==="Enter"||o.code==="Space")&&(D(),o.preventDefault())},Qe=function(){if(!n.toggleMask)return null;var o,p=t({role:"switch",tabIndex:n.tabIndex||"0",className:y("hideIcon"),onClick:D,onKeyDown:xe,"aria-label":Ce("passwordHide")||"Hide Password","aria-checked":"false"},g("hideIcon")),v=t({role:"switch",tabIndex:n.tabIndex||"0",className:y("showIcon"),onClick:D,onKeyDown:xe,"aria-label":Ce("passwordShow")||"Show Password","aria-checked":"true"},g("showIcon"));U?o=n.hideIcon||s.createElement(Ne,p):o=n.showIcon||s.createElement(Ot,v);var te=xt.getJSXIcon(o,U?J({},p):J({},v),{props:n}),F=te;if(n.icon){var ne={onClick:D,className:tt,element:F,props:n};F=C.getJSXElement(n.icon,ne)}return F},et=function(){var o=N||{strength:"",width:"0%"},p=o.strength,v=o.width,te=C.getJSXElement(n.header,n),F=C.getJSXElement(n.footer,n),ne=t({className:y("panel",{context:a}),style:n.panelStyle,onClick:Ze},g("panel")),ot=t({className:y("meter")},g("meter")),lt=t({className:y("meterLabel",{strength:p}),style:{width:v}},g("meterLabel")),it=t({className:y("info",{strength:p})},g("info")),ut=n.content?C.getJSXElement(n.content,n):s.createElement(s.Fragment,null,s.createElement("div",ot,s.createElement("div",lt)),s.createElement("div",it,S)),ct=t({classNames:y("transition"),in:b,timeout:{enter:120,exit:100},options:n.transitionOptions,unmountOnExit:!0,onEnter:He,onEntered:Ve,onExit:ze,onExited:Je},g("transition")),pt=s.createElement(Pt,L({nodeRef:x},ct),s.createElement("div",L({ref:x},ne),te,ut,F));return s.createElement(Ct,{element:pt,appendTo:n.appendTo})},tt=h("p-password p-component p-inputwrapper",{"p-inputwrapper-filled":Z,"p-inputwrapper-focus":q,"p-input-icon-right":n.toggleMask},n.className),nt=z.getOtherProps(n),Pe=Qe(),rt=et(),at=t({ref:j,id:n.id,className:h(n.className,y("root",{isFilled:Z,focusedState:q})),style:n.style},g("root")),st=t(J(J({ref:P,id:n.inputId},nt),{},{className:h(n.inputClassName,y("input")),onBlur:Ye,onFocus:Xe,onInput:qe,onKeyUp:Ge,invalid:n.invalid,variant:n.variant,style:n.inputStyle,unstyled:n.unstyled,tabIndex:n.tabIndex||"0",tooltip:n.tooltip,tooltipOptions:n.tooltipOptions,type:Fe,value:n.value,__parentMetadata:{parent:K}}),g("input")),ee=s.createElement(X,st);return Pe&&(ee=s.createElement(ke,{className:y("iconField"),pt:g("iconField"),__parentMetadata:{parent:K}},ee,s.createElement(Le,{className:y("inputIcon"),pt:g("inputIcon"),__parentMetadata:{parent:K}},Pe))),s.createElement("div",at,ee,rt)}));le.displayName="Password";function Wt(){const{language:r}=St(),{users:{add_user_page:e}}=r,t={phoneNumber:"",username:"",email:"",password:"",confirm_password:"",role:"",status:""},[a,n]=s.useState(t),[l,d]=s.useState(""),[f,m]=s.useState(""),w=()=>{n(t)},{handleCreateUser:E,loading:b}=kt(),{usersRoles:B,loading:Y,error:A,getUsersRoles:N}=Dt(),G=Mt(),O=c=>{const{value:S,name:I}=c.target;n(M=>({...M,[I]:S}))};return s.useEffect(()=>{d(It(a.password,r)),m(jt(a.password,a.confirm_password,r))},[a.password,a.confirm_password]),u.jsx("div",{className:"external-page-wra",children:u.jsxs("div",{className:"external-page",children:[u.jsx("h2",{className:"header",children:e.add_new_user}),u.jsxs("div",{className:"input-fields",children:[u.jsxs("div",{className:"two-fields",children:[u.jsx(X,{value:a.phoneNumber,name:"phoneNumber",onChange:c=>O(c),variant:"filled",placeholder:e.phone_number}),u.jsx(X,{value:a.username,name:"username",onChange:c=>O(c),variant:"filled",placeholder:e.name})]}),u.jsx(X,{value:a.email,name:"email",onChange:c=>O(c),className:"one-field",variant:"filled",placeholder:e.email}),u.jsxs("div",{className:"two-fields",children:[u.jsx(le,{feedback:!1,value:a.password,name:"password",toggleMask:!0,onChange:c=>O(c),className:`${l?"p-invalid":""}`,variant:"filled",placeholder:l||e.password}),u.jsx(le,{feedback:!1,value:a.confirm_password,name:"confirm_password",toggleMask:!0,onChange:O,className:`${f?"p-invalid":""}`,variant:"filled",placeholder:f||e.confirm_password})]}),u.jsxs("div",{className:"two-fields",children:[u.jsx("label",{className:V.label,children:e.role_name}),u.jsx(_t,{placeholder:e.role_name,value:a.role,loading:Y,emptyMessage:()=>A?u.jsx(Ft,{action:N}):e.no_records,options:B,optionLabel:"name",optionValue:"id",name:"role",onChange:c=>O(c),variant:"filled"})]}),u.jsxs("div",{className:"two-fields",children:[u.jsx("label",{className:V.label,children:e.status}),u.jsx("div",{className:V.radioButtons,children:Object.entries(G).map(([c,S],I)=>u.jsxs("div",{className:V.radioButton,children:[u.jsx(Lt,{inputId:`status${I+1}`,name:"status",value:c,onChange:M=>O(M),checked:a.status===c}),u.jsx("label",{htmlFor:`status${I+1}`,children:S})]},c))})]})]}),u.jsx(Rt,{}),u.jsx(Nt,{onClick:()=>{E(a,w)},label:e.add_new_user,disabled:!!l||!!f||!(a.username&&a.email&&a.phoneNumber&&a.role&&a.status)||b,loading:b,className:"button-align-end"})]})})}export{Wt as default};
