import{d as L,r as h,L as B,b as E,j as e,M as F,z as u,D as $,K as O,B as S}from"./index-CAbGq19O.js";import{s as o,R as k}from"./users.module-BMNU4zwY.js";import{g as y,c as I}from"./users-g8c1QTf5.js";import{u as M}from"./roles-Cdw7N9oq.js";import{F as g}from"./FailedRequest-kw7mU4Mw.js";function K(){const{language:x}=L(),{users:{update_user_page:r}}=x,j={phoneNumber:"",username:"",email:"",role:"",status:""},[s,m]=h.useState(j),f=y(),[N]=B(),c=N.get("id"),{usersRoles:b,loading:v,error:D,getUsersRoles:R}=M(),{handleUpdateUser:U,loading:p}=I(`${c}`),{response:l,loading:_,execute:C,error:w}=E(`users/get/${c}`);h.useEffect(()=>{l&&m({...l.data,role:l.data.role.id})},[l]);const t=a=>{const{value:i,name:n}=a.target;m(d=>({...d,[n]:i}))};return _?e.jsx(F,{}):w?e.jsx("div",{className:"external-page-wra",children:e.jsx(g,{action:C})}):e.jsx("div",{className:"external-page-wra",children:e.jsxs("div",{className:"external-page",children:[e.jsx("h2",{className:"header",children:r.update_user}),e.jsxs("div",{className:"input-fields",children:[e.jsxs("div",{className:"two-fields",children:[e.jsx(u,{value:s.phoneNumber,name:"phoneNumber",onChange:a=>t(a),variant:"filled",placeholder:r.phone_number}),e.jsx(u,{value:s.username,name:"username",onChange:a=>t(a),variant:"filled",placeholder:r.name})]}),e.jsx(u,{value:s.email,name:"email",onChange:a=>t(a),className:"one-field",variant:"filled",placeholder:r.email}),e.jsxs("div",{className:"two-fields",children:[e.jsx("label",{className:o.label,children:r.role_name}),e.jsx($,{placeholder:r.role_name,value:s.role,loading:v,emptyMessage:()=>D?e.jsx(g,{action:R}):r.no_records,options:b,optionLabel:"name",optionValue:"id",name:"role",onChange:a=>t(a),variant:"filled"})]}),e.jsxs("div",{className:"two-fields",children:[e.jsx("label",{className:o.label,children:r.status}),e.jsx("div",{className:o.radioButtons,children:Object.entries(f).map(([a,i],n)=>e.jsxs("div",{className:o.radioButton,children:[e.jsx(k,{inputId:`status${n+1}`,name:"status",value:a,onChange:d=>t(d),checked:s.status===a}),e.jsx("label",{htmlFor:`status${n+1}`,children:i})]},a))})]})]}),e.jsx(O,{}),e.jsx(S,{onClick:()=>{U(s)},label:r.update_user,disabled:!(s.username&&s.phoneNumber&&s.email&&s.role&&s.status)||p,loading:p,className:"button-align-end"})]})})}export{K as default};
