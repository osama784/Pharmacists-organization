import{d as v,L as k,r as x,b as B,j as a,M as C,a0 as c,z as l,B as D}from"./index-CAbGq19O.js";import{b as F}from"./banks-Bntx6X2t.js";import{s as L}from"./banks.module-zZtWAoL-.js";import{F as w}from"./FailedRequest-kw7mU4Mw.js";function P(){const{language:h}=v(),{banks:{update_bank_page:s}}=h,[j]=k(),d=j.get("id"),[e,u]=x.useState(),{handleUpdateBank:g,loading:f}=F(d),{response:i,loading:p,execute:b,error:N}=B(`banks/get/${d}`);x.useEffect(()=>{i&&u({...i.data})},[i]);const o=(n,t)=>{u(r=>{if(!r)return r;const m=r;return m.accounts[t].accountNum=n.target.value,{...m}})};return p?a.jsx(C,{}):N||!e?a.jsx("div",{className:"external-page-wra",children:a.jsx(w,{action:b})}):a.jsx("div",{className:"external-page-wra",children:a.jsxs("div",{className:"external-page",children:[a.jsx("h2",{className:"header",children:s.update_bank}),a.jsxs("div",{className:"input-fields float-labels",children:[a.jsxs("div",{className:"two-fields",children:[a.jsxs(c,{children:[a.jsx(l,{value:e.name,name:"name",onChange:n=>{u(t=>t&&{...t,name:n.target.value})},variant:"filled"}),a.jsx("label",{children:s.name})]}),a.jsxs(c,{children:[a.jsx(l,{value:e.accounts[0].accountNum,onChange:n=>o(n,0),variant:"filled"}),a.jsxs("label",{children:[s.account," ",e.accounts[0].section]})]})]}),a.jsxs("div",{className:"two-fields",children:[a.jsxs(c,{children:[a.jsx(l,{value:e.accounts[1].accountNum,onChange:n=>o(n,1),variant:"filled"}),a.jsxs("label",{children:[s.account," ",e.accounts[1].section]})]}),a.jsxs(c,{children:[a.jsx(l,{value:e.accounts[2].accountNum,onChange:n=>o(n,2),variant:"filled"}),a.jsxs("label",{children:[s.account," ",e.accounts[2].section]})]})]}),a.jsxs("div",{className:L.actionButtonWithInput,children:[a.jsxs(c,{children:[a.jsx(l,{value:e.accounts[3].accountNum,onChange:n=>o(n,3),variant:"filled"}),a.jsxs("label",{children:[s.account," ",e.accounts[3].section]})]}),a.jsx(D,{label:s.update_bank,disabled:!(e.name&&e.accounts[0].accountNum&&e.accounts[1].accountNum&&e.accounts[2].accountNum&&e.accounts[3].accountNum),outlined:!0,loading:f,onClick:()=>{g(e)}})]})]})]})})}export{P as default};
